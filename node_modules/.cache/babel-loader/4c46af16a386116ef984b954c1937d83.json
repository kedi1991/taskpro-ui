{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/taskpro_api/taskpro_ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/taskpro_api/taskpro_ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Container,Nav,NavLink,Navbar}from'react-bootstrap';import NavDropdown from'react-bootstrap/NavDropdown';import styles from\"../styles/TopNavBar.module.css\";import axios from'axios';import{useActiveUser,useSetActiveUser}from'../contexts/ActiveUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TopNavBar=function TopNavBar(){var activeUser=useActiveUser();var setActiveUser=useSetActiveUser();//handle signout\nvar handleSignOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"dj-rest-auth/logout/\");case 3:setActiveUser(null);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function handleSignOut(){return _ref.apply(this,arguments);};}();// Icons to display when logged in\nvar iconsLoggedIn=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(NavDropdown,{title:\"Tasks\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/tasks\",children:\"View tasks\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/task/create\",children:\"Add task\"})]}),/*#__PURE__*/_jsxs(NavDropdown,{title:\"Projects\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/projects\",children:\"View projects\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/project/add\",children:\"Add project\"})]}),/*#__PURE__*/_jsx(Navbar.Text,{children:\"Signed in as:\"}),/*#__PURE__*/_jsx(NavDropdown,{title:activeUser===null||activeUser===void 0?void 0:activeUser.username,id:\"account-dropdown\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/\",onClick:handleSignOut,children:\"Sign out\"})})]});//Icons to display when logged out\nvar iconsLoggedOut=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar.Text,{children:/*#__PURE__*/_jsx(\"a\",{href:\"/signin\",children:\"Sign In\"})}),/*#__PURE__*/_jsx(Navbar.Text,{children:/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Sign Up\"})})]});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Navbar,{className:styles.TopNavBar,fixed:\"top\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto\",children:/*#__PURE__*/_jsx(Navbar.Brand,{children:\"TASK PRO 1\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{}),/*#__PURE__*/_jsx(Navbar.Collapse,{className:\"justify-content-end\",children:/*#__PURE__*/_jsx(Nav,{className:\"mr-auto\",children:activeUser?iconsLoggedIn:iconsLoggedOut})})]})})});};export default TopNavBar;","map":{"version":3,"names":["Container","Nav","NavLink","Navbar","NavDropdown","styles","axios","useActiveUser","useSetActiveUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TopNavBar","activeUser","setActiveUser","handleSignOut","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","post","t0","console","log","stop","apply","arguments","iconsLoggedIn","children","title","id","Item","href","Divider","Text","username","onClick","iconsLoggedOut","className","fixed","Brand","Toggle","Collapse"],"sources":["/workspace/taskpro_api/taskpro_ui/src/components/TopNavBar.js"],"sourcesContent":["import { Container, Nav, NavLink, Navbar } from 'react-bootstrap';\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport styles from \"../styles/TopNavBar.module.css\";\nimport axios from 'axios';\nimport { useActiveUser, useSetActiveUser } from '../contexts/ActiveUserContext';\n\nconst TopNavBar = () => {\n\n  const activeUser = useActiveUser()\n  const setActiveUser = useSetActiveUser()\n\n  //handle signout\n  const handleSignOut = async () => {\n    try {\n      await axios.post(\"dj-rest-auth/logout/\");\n      setActiveUser(null);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // Icons to display when logged in\n\n  const iconsLoggedIn = <>\n    <NavDropdown title=\"Tasks\" id=\"basic-nav-dropdown\">\n      <NavDropdown.Item href=\"/tasks\">View tasks</NavDropdown.Item>\n      <NavDropdown.Divider />\n      <NavDropdown.Item href=\"/task/create\">\n        Add task\n      </NavDropdown.Item>\n      \n    </NavDropdown>\n\n    <NavDropdown title=\"Projects\" id=\"basic-nav-dropdown\">\n      <NavDropdown.Item href=\"/projects\">View projects</NavDropdown.Item>\n      <NavDropdown.Divider />\n      <NavDropdown.Item href=\"/project/add\">\n        Add project\n      </NavDropdown.Item>\n     \n      \n    </NavDropdown>\n    <Navbar.Text>\n      Signed in as: \n    </Navbar.Text>\n    <NavDropdown title= {activeUser?.username} id=\"account-dropdown\">\n      <NavDropdown.Item href=\"/\" onClick={handleSignOut}>Sign out</NavDropdown.Item>\n      \n    </NavDropdown>\n    \n  </>\n\n  //Icons to display when logged out\n\n  const iconsLoggedOut = <>\n    <Navbar.Text>\n      <a href=\"/signin\">Sign In</a>\n    </Navbar.Text>\n    <Navbar.Text>\n      <a href=\"/register\">Sign Up</a>\n    </Navbar.Text>\n\n  </>\n\n  return (\n    <>\n      <Navbar className={styles.TopNavBar} fixed='top'>\n\n        <Container>\n          <Nav className=\"me-auto\">\n            <Navbar.Brand>\n              TASK PRO 1\n            </Navbar.Brand>\n          </Nav>\n          <Navbar.Toggle />\n          <Navbar.Collapse className=\"justify-content-end\">\n            <Nav className='mr-auto'>\n              {activeUser ? iconsLoggedIn : iconsLoggedOut}\n            </Nav>\n\n          </Navbar.Collapse>\n        </Container>\n\n\n      </Navbar>\n    </>\n  );\n}\n\nexport default TopNavBar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}